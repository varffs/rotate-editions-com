{"version":3,"sources":["main.js"],"names":["Site","init","this","Swiper","Menu","Router","Layout","bind","_this","$","on","click","e","data","preventDefault","project","toggleProject","target","togglePage","toggleProjects","slideToggle","find","page","hash","window","location","onLoad","rawHash","substr","params","split","toLowerCase","clearUrl","history","pushState","setSvgColors","customAlignment","document","onreadystatechange","readyState","each","color","css","width","innerWidth","titlewidth","$galleries","galleryInstances","length","ready","index","item","createGallery","container","push","loop","preloadImages","lazyLoading","nextButton","prevButton","pagination","paginationType","observer","observeParents","paginationFractionRender","swiper","currentClassName","totalClassName","onSlideChangeEnd","$activeSlide","slides","activeIndex","$captionTarget","caption","text"],"mappings":"AAAAA,MACEC,KAAM,WACJC,KAAKC,OAAOF,OACZC,KAAKE,KAAKH,OACVC,KAAKG,OAAOJ,OACZC,KAAKI,OAAOL,SAIhBD,KAAKI,MACHH,KAAM,WACJC,KAAKK,QAGPA,KAAM,WACJ,GAAIC,OAAQN,IAGZO,GAAE,kBAAkBC,IAClBC,MAAO,SAASC,GACd,GAAIC,MAAOJ,EAAEP,MAAMW,MAEnBD,GAAEE,iBAEED,KAAKE,QACPP,MAAMQ,cAAcH,KAAKI,QAEzBT,MAAMU,WAAWL,KAAKI,WAM5BR,EAAE,qBAAqBC,IACrBC,MAAO,WACLH,MAAMW,qBAKZA,eAAgB,WACdV,EAAE,aAAaW,eAGjBJ,cAAe,SAASD,SACPN,EAAE,YAAcM,SAEtBM,KAAK,iBAAiBD,eAGjCF,WAAY,SAASI,MACPb,EAAE,IAAMa,MAEdD,KAAK,iBAAiBD,gBAIhCpB,KAAKK,QACHJ,KAAM,WACJ,GAAIO,OAAQN,KACRqB,KAAOC,OAAOC,SAASF,IAEvBA,OACFf,MAAMkB,OAAOH,OAIjBG,OAAQ,SAASC,SACf,GAAInB,OAAQN,KACRqB,KAAOI,QAAQC,OAAO,GACtBC,OAASN,KAAKO,MAAM,IAEN,aAAdD,OAAO,IACT7B,KAAKI,KAAKe,iBACVnB,KAAKI,KAAKY,cAAca,OAAO,GAAGE,gBACX,SAAdF,OAAO,IAChB7B,KAAKI,KAAKc,WAAWW,OAAO,GAAGE,eAGjCvB,MAAMwB,YAGRA,SAAU,WACRR,OAAOC,SAASF,KAAO,GACvBU,QAAQC,aAAc,GAAI,QAI9BlC,KAAKM,QACHL,KAAM,WACJ,GAAIO,OAAQN,IAEZM,OAAM2B,eAEN3B,MAAM4B,kBAGNC,SAASC,mBAAqB,WACA,aAAxBD,SAASE,YACX/B,MAAM4B,oBAKZD,aAAc,WACZ1B,EAAE,eAAe+B,KAAK,WACpB,GAAIC,OAAQhC,EAAEP,MAAMwC,IAAI,QAExBjC,GAAEP,MAAMmB,KAAK,OAAOqB,IAAI,OAAQD,UAIpCL,gBAAiB,WACf,GAAIO,OAAQlC,EAAE,iBAAiBmC,YAE/BnC,GAAE,YAAY+B,KAAK,WACjB,GAAIK,YAAapC,EAAEP,MAAMmB,KAAK,eAAeuB,YAC7C,OAAOnC,GAAEP,MAAMmB,KAAK,iBAAiBqB,IAAI,cAAgBC,MAAQ,EAAME,WAAa,EAAK,UAK/F7C,KAAKG,QACH2C,WAAYrC,EAAE,qBACdsC,oBAEA9C,KAAM,WACJ,GAAIO,OAAQN,IAERM,OAAMsC,WAAWE,QACnBvC,EAAE4B,UAAUY,MAAM,WAChBzC,MAAMsC,WAAWN,KAAK,SAASU,MAAOC,MACpC3C,MAAM4C,cAAcD,KAAMD,YAMlCE,cAAe,SAASC,UAAWH,OACrBhD,KAEN6C,iBAAiBO,KAAK,GAAInD,QAAOkD,WACrCE,MAAM,EACNC,eAAe,EACfC,aAAa,EACbC,WAAY,sBACZC,WAAY,sBACZC,WAAY,qBACZC,eAAgB,WAChBC,UAAU,EACVC,gBAAgB,EAChBC,yBAA0B,SAASC,OAAQC,iBAAkBC,gBAC3D,MAAO,gBAAkBD,iBAAmB,0BAAsCC,eAAiB,cAErGC,iBAAkB,SAASH,QACzB,GAAII,cAAe5D,EAAEwD,OAAOK,OAAOL,OAAOM,cACtCC,eAAiBP,OAAOZ,UAAUhC,KAAK,mBACvCoD,QAAUJ,aAAaxD,KAAK,UAEhC2D,gBAAeE,KAAKD,eAM5BzE,KAAKC","file":"main.min.js","sourcesContent":["Site = {\n  init: function() {\n    this.Swiper.init();\n    this.Menu.init();\n    this.Router.init();\n    this.Layout.init();\n  },\n};\n\nSite.Menu = {\n  init: function() {\n    this.bind();\n  },\n\n  bind: function() {\n    var _this = this;\n\n    // bind slide toggles\n    $('.title-trigger').on({\n      click: function(e) {\n        var data = $(this).data();\n\n        e.preventDefault();\n\n        if (data.project) {\n          _this.toggleProject(data.target);\n        } else {\n          _this.togglePage(data.target);\n        }\n      }\n    });\n\n    // bind project toggles\n    $('#projects-trigger').on({\n      click: function() {\n        _this.toggleProjects();\n      }\n    });\n  },\n\n  toggleProjects: function() {\n    $('#projects').slideToggle();\n  },\n\n  toggleProject: function(project) {\n    var $project = $('#project-' + project);\n\n    $project.find('.post-content').slideToggle();\n  },\n\n  togglePage: function(page) {\n    var $page = $('#' + page);\n\n    $page.find('.page-content').slideToggle();\n  },\n};\n\nSite.Router = {\n  init: function() {\n    var _this = this;\n    var hash = window.location.hash;\n\n    if (hash) {\n      _this.onLoad(hash);\n    }\n  },\n\n  onLoad: function(rawHash) {\n    var _this = this;\n    var hash = rawHash.substr(3);\n    var params = hash.split('/');\n\n    if (params[0] === 'project') {\n      Site.Menu.toggleProjects();\n      Site.Menu.toggleProject(params[1].toLowerCase());\n    } else if (params[0] === 'page') {\n      Site.Menu.togglePage(params[1].toLowerCase());\n    }\n\n    _this.clearUrl();\n  },\n\n  clearUrl: function() {\n    window.location.hash = '';\n    history.pushState({}, '', './');\n  }\n};\n\nSite.Layout = {\n  init: function() {\n    var _this = this;\n\n    _this.setSvgColors();\n\n    _this.customAlignment();\n\n    // custom alignments when fonts are ready\n    document.onreadystatechange = function() {\n      if (document.readyState === 'complete') {\n        _this.customAlignment();\n      }\n    };\n  },\n\n  setSvgColors: function() {\n    $('div.project').each(function() {\n      var color = $(this).css('color');\n\n      $(this).find('svg').css('fill', color);\n    });\n  },\n\n  customAlignment: function() {\n    var width = $('#main-content').innerWidth();\n\n    $('div.page').each(function() {\n      var titlewidth = $(this).find('.page-title').innerWidth();\n      return $(this).find('.page-content').css('margin-left', (width / 2) - (titlewidth / 2) + 'px');\n    });\n  },\n};\n\nSite.Swiper = {\n  $galleries: $('.swiper-container'),\n  galleryInstances: [],\n\n  init: function() {\n    var _this = this;\n\n    if (_this.$galleries.length) {\n      $(document).ready(function() {\n        _this.$galleries.each(function(index, item) {\n          _this.createGallery(item, index);\n        });\n      });\n    }\n  },\n\n  createGallery: function(container, index) {\n    var _this = this;\n\n    _this.galleryInstances.push(new Swiper(container, {\n      loop: true,\n      preloadImages: false,\n      lazyLoading: true,\n      nextButton: '.swiper-button-next',\n      prevButton: '.swiper-button-prev',\n      pagination: '.swiper-pagination',\n      paginationType: 'fraction',\n      observer: true,\n      observeParents: true,\n      paginationFractionRender: function(swiper, currentClassName, totalClassName) {\n        return '<span class=\"' + currentClassName + '\"></span>' + '/' + '<span class=\"' + totalClassName + '\"></span>:';\n      },\n      onSlideChangeEnd: function(swiper) {\n        var $activeSlide = $(swiper.slides[swiper.activeIndex]);\n        var $captionTarget = swiper.container.find('.swiper-caption');\n        var caption = $activeSlide.data('caption');\n\n        $captionTarget.text(caption);\n      },\n    }));\n  }\n};\n\nSite.init();"]}