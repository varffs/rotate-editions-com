{"version":3,"sources":["main.js"],"names":["Site","init","this","Swiper","Menu","Router","Layout","$","on","click","e","preventDefault","parent","find","slideToggle","_this","hash","window","location","onLoad","rawHash","substr","params","split","$project","slideDown","clearUrl","$page","toLowerCase","history","pushState","setSvgColors","customAlignment","document","onreadystatechange","readyState","each","color","css","width","innerWidth","titlewidth","$galleries","galleryInstances","length","ready","index","item","createGallery","container","push","loop","preloadImages","lazyLoading","nextButton","prevButton","pagination","paginationType","observer","observeParents","paginationFractionRender","swiper","currentClassName","totalClassName","onSlideChangeEnd","$activeSlide","slides","activeIndex","$captionTarget","caption","data","text"],"mappings":"AAAAA,MACEC,KAAM,WACJC,KAAKC,OAAOF,OACZC,KAAKE,KAAKH,OACVC,KAAKG,OAAOJ,OACZC,KAAKI,OAAOL,SAIhBD,KAAKI,MACHH,KAAM,WAGJM,EAAE,kBAAkBC,IAClBC,MAAO,SAASC,GACdA,EAAEC,iBACFJ,EAAEL,MAAMU,SAASA,OAAO,OAAOC,KAAK,sBAAsBC,iBAK9DP,EAAE,qBAAqBC,IACrBC,MAAO,WACLF,EAAE,aAAaO,mBAOvBd,KAAKK,QACHJ,KAAM,WACJ,GAAIc,OAAQb,KACRc,KAAOC,OAAOC,SAASF,IAEvBA,OACFD,MAAMI,OAAOH,OAIjBG,OAAQ,SAASC,SACf,GAAIL,OAAQb,KACRc,KAAOI,QAAQC,OAAO,GACtBC,OAASN,KAAKO,MAAM,IAExB,IAAkB,YAAdD,OAAO,GAAkB,CAC3B,GAAIE,UAAWjB,EAAE,YAAce,OAAO,GAEtCf,GAAE,aAAakB,YACfD,SAASX,KAAK,iBAAiBY,YAE/BV,MAAMW,eACD,IAAkB,SAAdJ,OAAO,GAAe,CAC/B,GAAIK,OAAQpB,EAAE,IAAMe,OAAO,GAAGM,cAE9BD,OAAMd,KAAK,iBAAiBY,YAE5BV,MAAMW,aAIVA,SAAU,WACRT,OAAOC,SAASF,KAAO,GACvBa,QAAQC,aAAc,GAAI,QAI9B9B,KAAKM,QACHL,KAAM,WACJ,GAAIc,OAAQb,IAEZa,OAAMgB,eAENhB,MAAMiB,kBAGNC,SAASC,mBAAqB,WACA,aAAxBD,SAASE,YACXpB,MAAMiB,oBAKZD,aAAc,WACZxB,EAAE,eAAe6B,KAAK,WACpB,GAAIC,OAAQ9B,EAAEL,MAAMoC,IAAI,QAExB/B,GAAEL,MAAMW,KAAK,OAAOyB,IAAI,OAAQD,UAIpCL,gBAAiB,WACf,GAAIO,OAAQhC,EAAE,iBAAiBiC,YAE/BjC,GAAE,YAAY6B,KAAK,WACjB,GAAIK,YAAalC,EAAEL,MAAMW,KAAK,eAAe2B,YAC7C,OAAOjC,GAAEL,MAAMW,KAAK,iBAAiByB,IAAI,cAAgBC,MAAQ,EAAME,WAAa,EAAK,UAK/FzC,KAAKG,QACHuC,WAAYnC,EAAE,qBACdoC,oBAEA1C,KAAM,WACJ,GAAIc,OAAQb,IAERa,OAAM2B,WAAWE,QACnBrC,EAAE0B,UAAUY,MAAM,WAChB9B,MAAM2B,WAAWN,KAAK,SAASU,MAAOC,MACpChC,MAAMiC,cAAcD,KAAMD,YAMlCE,cAAe,SAASC,UAAWH,OACrB5C,KAENyC,iBAAiBO,KAAK,GAAI/C,QAAO8C,WACrCE,MAAM,EACNC,eAAe,EACfC,aAAa,EACbC,WAAY,sBACZC,WAAY,sBACZC,WAAY,qBACZC,eAAgB,WAChBC,UAAU,EACVC,gBAAgB,EAChBC,yBAA0B,SAASC,OAAQC,iBAAkBC,gBAC3D,MAAO,gBAAkBD,iBAAmB,0BAAsCC,eAAiB,cAErGC,iBAAkB,SAASH,QACzB,GAAII,cAAe1D,EAAEsD,OAAOK,OAAOL,OAAOM,cACtCC,eAAiBP,OAAOZ,UAAUpC,KAAK,mBACvCwD,QAAUJ,aAAaK,KAAK,UAEhCF,gBAAeG,KAAKF,eAM5BrE,KAAKC","file":"main.min.js","sourcesContent":["Site = {\n  init: function() {\n    this.Swiper.init();\n    this.Menu.init();\n    this.Router.init();\n    this.Layout.init();\n  },\n};\n\nSite.Menu = {\n  init: function() {\n\n    // bind slide toggles\n    $('.title-trigger').on({\n      click: function(e) {\n        e.preventDefault();\n        $(this).parent().parent('div').find('.content-triggered').slideToggle();\n      }\n    });\n\n    // bind project toggles\n    $('#projects-trigger').on({\n      click: function() {\n        $('#projects').slideToggle();\n      }\n    });\n\n  },\n};\n\nSite.Router = {\n  init: function() {\n    var _this = this;\n    var hash = window.location.hash;\n\n    if (hash) {\n      _this.onLoad(hash);\n    }\n  },\n\n  onLoad: function(rawHash) {\n    var _this = this;\n    var hash = rawHash.substr(3);\n    var params = hash.split('/');\n\n    if (params[0] === 'project') {\n      var $project = $('#project-' + params[1]);\n\n      $('#projects').slideDown();\n      $project.find('.post-content').slideDown();\n\n      _this.clearUrl();\n    } else if (params[0] === 'page') {\n      var $page = $('#' + params[1].toLowerCase());\n\n      $page.find('.page-content').slideDown();\n\n      _this.clearUrl();\n    }\n  },\n\n  clearUrl: function() {\n    window.location.hash = '';\n    history.pushState({}, '', './');\n  }\n};\n\nSite.Layout = {\n  init: function() {\n    var _this = this;\n\n    _this.setSvgColors();\n\n    _this.customAlignment();\n\n    // custom alignments when fonts are ready\n    document.onreadystatechange = function() {\n      if (document.readyState === 'complete') {\n        _this.customAlignment();\n      }\n    };\n  },\n\n  setSvgColors: function() {\n    $('div.project').each(function() {\n      var color = $(this).css('color');\n\n      $(this).find('svg').css('fill', color);\n    });\n  },\n\n  customAlignment: function() {\n    var width = $('#main-content').innerWidth();\n\n    $('div.page').each(function() {\n      var titlewidth = $(this).find('.page-title').innerWidth();\n      return $(this).find('.page-content').css('margin-left', (width / 2) - (titlewidth / 2) + 'px');\n    });\n  },\n};\n\nSite.Swiper = {\n  $galleries: $('.swiper-container'),\n  galleryInstances: [],\n\n  init: function() {\n    var _this = this;\n\n    if (_this.$galleries.length) {\n      $(document).ready(function() {\n        _this.$galleries.each(function(index, item) {\n          _this.createGallery(item, index);\n        });\n      });\n    }\n  },\n\n  createGallery: function(container, index) {\n    var _this = this;\n\n    _this.galleryInstances.push(new Swiper(container, {\n      loop: true,\n      preloadImages: false,\n      lazyLoading: true,\n      nextButton: '.swiper-button-next',\n      prevButton: '.swiper-button-prev',\n      pagination: '.swiper-pagination',\n      paginationType: 'fraction',\n      observer: true,\n      observeParents: true,\n      paginationFractionRender: function(swiper, currentClassName, totalClassName) {\n        return '<span class=\"' + currentClassName + '\"></span>' + '/' + '<span class=\"' + totalClassName + '\"></span>:';\n      },\n      onSlideChangeEnd: function(swiper) {\n        var $activeSlide = $(swiper.slides[swiper.activeIndex]);\n        var $captionTarget = swiper.container.find('.swiper-caption');\n        var caption = $activeSlide.data('caption');\n\n        $captionTarget.text(caption);\n      },\n    }));\n  }\n};\n\nSite.init();"]}